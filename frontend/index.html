<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nutrition Deficiency Prediction & Diet Optimization</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 font-sans">
  <div class="container mx-auto p-6">
    <h1 class="text-3xl font-bold text-center mb-6">Nutrition Deficiency Prediction & Diet Optimization</h1>
    
    <!-- Input Form -->
    <div class="bg-white p-6 rounded-lg shadow-md mb-6">
      <h2 class="text-xl font-semibold mb-4">Enter Your Details</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label class="block text-sm font-medium text-gray-700">Age</label>
          <input type="number" id="age" class="mt-1 p-2 w-full border rounded-md" placeholder="e.g., 30" min="1" max="120">
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700">Weight (kg)</label>
          <input type="number" id="weight" class="mt-1 p-2 w-full border rounded-md" placeholder="e.g., 70" min="1">
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700">Diet Preference</label>
          <select id="diet" class="mt-1 p-2 w-full border rounded-md">
            <option value="omnivore">Omnivore</option>
            <option value="vegetarian">Vegetarian</option>
            <option value="vegan">Vegan</option>
          </select>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700">Symptoms (select all that apply)</label>
          <div class="mt-2 space-y-2">
            <label><input type="checkbox" name="symptoms" value="fatigue"> Fatigue</label><br>
            <label><input type="checkbox" name="symptoms" value="hair_loss"> Hair Loss</label><br>
            <label><input type="checkbox" name="symptoms" value="dry_skin"> Dry Skin</label><br>
            <label><input type="checkbox" name="symptoms" value="weak_bones"> Weak Bones</label>
          </div>
        </div>
      </div>
      <button onclick="predictDeficiencies()" class="mt-4 w-full bg-blue-600 text-white p-2 rounded-md hover:bg-blue-700">Predict & Optimize Diet</button>
    </div>

    <!-- Results Section -->
    <div id="results" class="hidden bg-white p-6 rounded-lg shadow-md">
      <h2 class="text-xl font-semibold mb-4">Results</h2>
      <div id="deficiencies" class="mb-4"></div>
      <div id="dietPlan" class="mb-4"></div>
    </div>
  </div>

  <script>
    function predictDeficiencies() {
      // Get input values
      const age = parseInt(document.getElementById('age').value) || 0;
      const weight = parseInt(document.getElementById('weight').value) || 0;
      const diet = document.getElementById('diet').value;
      const symptoms = Array.from(document.querySelectorAll('input[name="symptoms"]:checked')).map(el => el.value);

      // Basic validation
      if (age <= 0 || weight <= 0) {
        alert('Please enter valid age and weight.');
        return;
      }

      // Simple deficiency prediction logic (replace with ML model in production)
      const deficiencies = [];
      if (symptoms.includes('fatigue') || diet === 'vegan') {
        deficiencies.push('Vitamin B12');
      }
      if (symptoms.includes('hair_loss') || symptoms.includes('dry_skin')) {
        deficiencies.push('Iron');
      }
      if (symptoms.includes('weak_bones') || diet === 'vegan') {
        deficiencies.push('Calcium');
      }
      if (symptoms.includes('fatigue') && age > 50) {
        deficiencies.push('Vitamin D');
      }

      // Diet optimization suggestions
      const dietPlan = {
        'Vitamin B12': {
          omnivore: 'Fish, eggs, dairy',
          vegetarian: 'Dairy, fortified cereals',
          vegan: 'Fortified plant milk, nutritional yeast'
        },
        'Iron': {
          omnivore: 'Red meat, spinach, lentils',
          vegetarian: 'Lentils, spinach, tofu',
          vegan: 'Lentils, spinach, pumpkin seeds'
        },
        'Calcium': {
          omnivore: 'Milk, cheese, broccoli',
          vegetarian: 'Milk, cheese, kale',
          vegan: 'Fortified plant milk, kale, almonds'
        },
        'Vitamin D': {
          omnivore: 'Salmon, egg yolks, fortified milk',
          vegetarian: 'Egg yolks, fortified milk',
          vegan: 'Fortified plant milk, mushrooms'
        }
      };

      // Generate results
      let deficienciesHtml = '<h3 class="text-lg font-medium">Potential Deficiencies</h3>';
      if (deficiencies.length === 0) {
        deficienciesHtml += '<p>No deficiencies detected based on input.</p>';
      } else {
        deficienciesHtml += '<ul class="list-disc pl-5">';
        deficiencies.forEach(def => {
          deficienciesHtml += `<li>${def}</li>`;
        });
        deficienciesHtml += '</ul>';
      }

      let dietPlanHtml = '<h3 class="text-lg font-medium">Recommended Foods</h3>';
      if (deficiencies.length === 0) {
        dietPlanHtml += '<p>Continue with a balanced diet.</p>';
      } else {
        dietPlanHtml += '<ul class="list-disc pl-5">';
        deficiencies.forEach(def => {
          dietPlanHtml += `<li><strong>${def}</strong>: ${dietPlan[def][diet]}</li>`;
        });
        dietPlanHtml += '</ul>';
      }

      // Display results
      document.getElementById('deficiencies').innerHTML = deficienciesHtml;
      document.getElementById('dietPlan').innerHTML = dietPlanHtml;
      document.getElementById('results').classList.remove('hidden');
    }
  </script>
</body>
</html>
